module load bio/trimmomatic/0.39-gcc-11.4.0

cd /global/scratch/users/charliekortleven/Aim_1_Final/BWA_alignment/Founder_seq/raw_founder_seq

output_path="/global/scratch/users/charliekortleven/Aim_1_Final/BWA_alignment/Founder_seq/trimmed_founder_seq"
mkdir -p "$output_path"

Nextra_path="/global/scratch/users/charliekortleven/Aim_1_Final/BWA_alignment/Founder_seq/NexteraPE-PE.fa"

for i in *-R1.fastq.gz
do
  seq_name=${i%-R1.fastq.gz}
  trimmomatic PE \
  ${seq_name}-R1.fastq.gz ${seq_name}-R2.fastq.gz \
  ${output_path}/${seq_name}_R1.trim.fastq ${output_path}/${seq_name}_R1.untrim.fastq \
  ${output_path}/${seq_name}_R2.trim.fastq ${output_path}/${seq_name}_R2.untrim.fastq \
  ILLUMINACLIP:$Nextra_path:2:30:10 \
  SLIDINGWINDOW:4:15
done
